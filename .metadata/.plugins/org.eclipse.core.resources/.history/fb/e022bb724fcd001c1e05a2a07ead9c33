package com.lucky.practice;

import java.util.ArrayList;
import java.util.Arrays;

public class PrefixSumArray {

	public static void main(String[] args) {
		ArrayList<Integer> arr = new ArrayList<>(Arrays.asList(3,2,1,1,10,21,35,50));
		ArrayList<Integer> PrefixSumArray = generatePrefixSumArray(arr);
		System.out.println(getSum(PrefixSumArray, 0, 2));
		System.out.println(getSum(PrefixSumArray, 2, 5));

	}
	/**
	 * To answer many queries we can use a prefix sum array pre constructed on 
	 * O(n) time and then answer the queries in O(n) time.
	 */
	private static ArrayList<Integer> generatePrefixSumArray(ArrayList<Integer> arr) {
		ArrayList<Integer> prefixSumArray = new ArrayList<>();
		prefixSumArray.add(arr.get(0));
		for(int i=1;i<arr.size();i++) {
			prefixSumArray.add(arr.get(i)+prefixSumArray.get(i-1));
		}
		return prefixSumArray;
	}
	/**
	 * Finds the sum of the subarray to be counted with
	 * lower and upper indices(both inclusive)
	 */
	private static int getSum(ArrayList<Integer> prefixSumArray, int lower,int upper) {
		if(lower==0) return prefixSumArray.get(upper);
		else return prefixSumArray.get(upper)-prefixSumArray.get(lower-1);
	}

}
