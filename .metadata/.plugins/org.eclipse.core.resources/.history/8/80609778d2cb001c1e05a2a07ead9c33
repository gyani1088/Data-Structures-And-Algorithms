package com.lucky.practice;


import java.util.ArrayList;
import java.util.Arrays;

public class MaxCircularSubarraySum {

	public static void main(String[] args) {
		ArrayList<Integer> arr = new ArrayList<>(Arrays.asList(10,-2,5,2));//17
		System.out.println(maxSumEfficient(arr));
	}

	private static int maxSumEfficient(ArrayList<Integer> arr) {
		// TODO Auto-generated method stub
		int maxSumLeftIndex = 0;
		int maxSum = arr.get(0);
		int curr = arr.get(0);
		int n = arr.size();
		for(int i = 1; i<2*n-2;i++) {
			if(i-maxSumLeftIndex<n) curr = Math.max(curr+arr.get(i%n), arr.get(i%n));
			else maxSumLeftIndex++;
			if(curr==arr.get(i%n)) maxSumLeftIndex=i;
			maxSum = Math.max(maxSum, curr);
		}
		return maxSum;
	}

}
